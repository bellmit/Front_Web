define(["jquery"],function(e){var t=window;return this.slideToggle=function(n){var r=e.extend(!0,{},{minwidth:1024,size:5,curindex:0,isresize:!0,slide_id:null,slide_hover_id:null,$wrap:null,$slide_img:null,$items:null,$btnwrap:null,$btn:null,$slide_tipwrap:null,$slide_tip:null,tipheight:0,itemheight:0,winwidth:e(t).width(),img_alt:!1,tip_text:[],btn_action:!1,isMobile:function(){return!!/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i.test(navigator.userAgent)}(),btn_active:"slidebtn-active",eff_time:500,times:6e3,auto_animates:null},n),i=this;i.slideInit(r),r.$btnwrap.delegate("li",e.EventName.click,function(t){t.preventDefault();var n=e(this);r.curindex=n.index(),r.btn_action=!0,r.$slide_img.animate({left:-r.curindex*r.winwidth},r.eff_time),n.addClass(r.btn_active).siblings().removeClass(r.btn_active),r.img_alt?i.slideEffect(r):r.$slide_tipwrap.css({opacity:"0.4",top:r.itemheight})}),r.isMobile?r.$wrap.on("mouseenter mouseleave",function(e){var t=e.type;"mouseenter"==t?(r.$slide_tipwrap.stop(r.auto_animates,!0,!1),clearInterval(r.slide_id),r.slide_id=null):"mouseleave"==t&&(clearInterval(r.slide_id),r.slide_id=null,r.slide_id=setInterval(function(){r.btn_action=!1,i.slidePlay(r)},r.times))}):r.$wrap.hover(function(){r.$slide_tipwrap.stop(r.auto_animates,!0,!1),clearInterval(r.slide_id),r.slide_id=null},function(){clearInterval(r.slide_id),r.slide_id=null,r.slide_id=setInterval(function(){r.btn_action=!1,i.slidePlay(r)},r.times)}),r.isresize&&e(t).resize(function(){r.winwidth=e(this).width(),r.winwidth=r.winwidth<r.minwidth?r.minwidth:r.winwidth,r.$items.width(r.winwidth),r.$slide_img.css({width:r.size*r.winwidth,left:-r.curindex*r.winwidth})})},this.slideInit=function(t){var n=this;t.$items=t.$slide_img.find("li"),t.winwidth=t.winwidth<t.minwidth?t.minwidth:t.winwidth,t.$items.width(t.winwidth),t.size=t.$items.size(),t.$btn=t.$btnwrap.find("li"),t.$slide_img.css({width:t.size*t.winwidth}),t.tipheight=t.$slide_tipwrap.height(),t.itemheight=t.$items.eq(0).height(),t.$slide_tip=t.$slide_tipwrap.find("p"),t.$items.eq(0).find("img").attr("alt")?(t.img_alt=!0,t.$items.find("img").each(function(n){t.tip_text.push(e(this).attr("alt"))}),t.$slide_tip.text(t.tip_text[0])):(t.img_alt=!1,t.tip_text.length=0,t.$slide_tip.text(""),t.$slide_tipwrap.css({opacity:"0.4",top:t.itemheight})),t.slide_id=setInterval(function(){n.slidePlay(t)},t.times)},this.slidePlay=function(e){var t=this;e.curindex++,e.curindex=e.curindex>=e.size?0:e.curindex,e.$slide_img.animate({left:-e.curindex*e.winwidth},e.eff_time),e.$btn.eq(e.curindex).addClass(e.btn_active).siblings().removeClass(e.btn_active),e.img_alt?t.slideEffect(e):e.$slide_tipwrap.css({opacity:"0.4",top:e.itemheight})},this.slideEffect=function(e){var t=parseInt(e.$slide_tipwrap.css("top"))+e.tipheight;e.btn_action?t===e.itemheight?(e.$slide_tipwrap.animate({opacity:"0.4",top:e.itemheight},e.eff_time),setTimeout(function(){e.$slide_tip.text(e.tip_text[e.curindex])},e.eff_time),e.$slide_tipwrap.animate({opacity:"0.6",top:e.itemheight-e.tipheight},e.eff_time)):(e.$slide_tip.text(e.tip_text[e.curindex]),e.$slide_tipwrap.animate({opacity:"0.6",top:e.itemheight-e.tipheight},e.eff_time)):t===e.itemheight?(e.$slide_tipwrap.animate({opacity:"0.6",top:e.itemheight},e.eff_time),setTimeout(function(){e.$slide_tip.text(e.tip_text[e.curindex])},e.eff_time),e.auto_animates=e.$slide_tipwrap.animate({opacity:"0.6",top:e.itemheight-e.tipheight},e.eff_time).delay(e.times-3*e.eff_time).animate({opacity:"0.4",top:e.itemheight},e.eff_time)):(e.auto_animates=e.$slide_tipwrap.animate({opacity:"0.6",top:e.itemheight-e.tipheight},e.eff_time),e.$slide_tip.text(e.tip_text[e.curindex]),e.$slide_tipwrap.delay(e.times-2*e.eff_time).animate({opacity:"0.4",top:e.itemheight},e.eff_time))},this});