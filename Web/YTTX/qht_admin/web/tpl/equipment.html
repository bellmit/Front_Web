<div ng-controller="EquipmentController as equipment_ctrl">
    <div class="struct-layout-container struct-layout-default">
        <div class="struct-layout-main">
            <!--设备管理-->
            <h1 class="admin-layout-theme3">
                <span ng-show="equipment_ctrl.record.organizationId!==''">设备管理：&nbsp;{{equipment_ctrl.record.organizationName}}</span>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <button type="button" class="btn btn-default g-c-blue3" ng-disabled="equipment_ctrl.record.organizationId===''" ng-show="equipment_ctrl.powerlist.deviceadd" ng-click="equipment_ctrl.toggleModal({display:'show',area:'send'})"><i class="btn-action admin-btn-action1"></i>&nbsp;添加发货信息</button>
            </h1>


            <!--操作条-->
            <div class="admin-action-item">

                <!--过滤-->
                <div class="action-item-input g-w-percent10">
                    <label class="action-indent-b2">过滤:<input class="form-control input-sm" placeholder="" ng-model="equipment_ctrl.record.filter" ng-keyup="equipment_ctrl.filterDataTable()"  type="search"></label>
                </div>

                <!--开始时间-->
                <div class="action-item-input g-w-percent15">
                    <label class="action-indent-b2 dt-icon-after">开始时间:<input ng-model="equipment_ctrl.record.startTime"  class="form-control" id="search_startTime" placeholder="请选择开始时间" readonly type="text"></label>
                </div>

                <!--结束时间-->
                <div class="action-item-input g-w-percent15">
                    <label class="action-indent-b2 dt-icon-after">结束时间:<input class="form-control" placeholder="请选择结束时间" id="search_endTime" ng-model="equipment_ctrl.record.endTime" readonly type="text"></label>
                </div>

                <!--打印，导出-->
                <div ng-show="false" class="action-item-btn action-item-export g-w-percent8">
                    <span ng-show="equipment_ctrl.powerlist.deviceprint" class="btn btn-export g-br3 g-c-blue3">打印</span>
                    <span ng-show="equipment_ctrl.powerlist.deviceexport" class="btn btn-export g-br3 g-c-blue3">导出</span>
                </div>


                <!--列控制-->
                <div class="action-item-ul g-w-percent8 g-pos-r" ng-show="::equipment_ctrl.table.tablecolumn.columnshow">
                    <div class="action-theme action-theme-btn g-br3 g-t-c">显示列</div>
                    <div class="action-ul g-d-hidei" id="admin_table_checkcolumn">
                        <ul class="action-list-wrap" ></ul>
                    </div>
                </div>

                <div class="action-item-btn action-item-export g-gap-mt4 g-w-percent5">
                    <span ng-click="equipment_ctrl.queryEquipment()" class="btn btn-export g-br3 g-w-percent50 g-c-blue3">查询</span>
                </div>

            </div>

            <!--表格-->
            <table id="admin_list_wrap" class="table table-bordered table-striped table-hover admin-layout-table">
                <!--分组样式-->
                <colgroup id="admin_list_colgroup">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent5">
                    <col class="g-w-percent10">
                </colgroup>

                <!--表头-->
                <thead>
                <tr>
                    <th>用户名称</th>
                    <th>手机号码</th>
                    <th>订单号</th>
                    <th>成交金额</th>
                    <th>付款人姓名</th>
                    <th>刷卡方式</th>
                    <th>创建时间</th>
                    <th>支付时间</th>
                    <th>操作</th>
                </tr>
                </thead>

                <!--表主体-->
                <tbody id="admin_batchlist_wrap" class="middle-align"></tbody>
            </table>


            <!--分页-->
            <div class="admin-page-wrap">
                <div class="easyui-pagination g-w-percent50" id="admin_page_wrap" data-options="links:5,layout:['manual','first','prev','links','next','last'],displayMsg:'显示{from}&nbsp;到&nbsp;{to}&nbsp;共&nbsp;{total}条记录'"></div>
            </div>
        </div>

        <div class="struct-layout-side">
            <!--子菜单组件-->
            <ul class="sub-menu-wrap" ng-click="equipment_ctrl.toggleSubMenu($event)" id="admin_equipment_submenu" ng-init="equipment_ctrl.initSubMenu()"></ul>
        </div>
    </div>



    <!--弹出层--提示操作界面-->
    <!--机构设置-->
    <div class="modal fade custom-width" id="admin_send_dialog">
        <div class="modal-dialog g-w-percent46">
            <div class="modal-content">
                <div class="modal-body">
                    <!--权限-->
                    <div class="g-f-l g-w-percent34" ng-show="equipment_ctrl.record.imei">
                        <div class="admin-layout-theme4 admin-theme-close g-t-c g-b-gray17 g-pos-r">选择IMEI码</div>
                        <table class="table table-bordered table-striped table-hover admin-layout-table">
                            <colgroup>
                                <col class="g-w-percent12"/>
                                <col class="g-w-percent13"/>
                                <col class="g-w-percent12"/>
                                <col class="g-w-percent13"/>
                            </colgroup>
                            <thead>
                            <tr>
                                <td colspan="4">IMEI码</td>
                            </tr>
                            </thead>
                            <tbody id="admin_imei_list"></tbody>
                        </table>
                        <div class="row">
                            <div class="col-sm-5 g-t-r">
                                <span ng-click="equipment_ctrl.getIMEI()" class="btn btn-red g-br3 g-w-percent15">确定</span>
                            </div>
                            <div class="col-sm-2"></div>
                            <div class="col-sm-5 g-t-l">
                                <span ng-click="equipment_ctrl.clearIMEI()" class="btn btn-red g-br3 g-w-percent15">取消</span>
                            </div>
                        </div>
                    </div>

                    <!--表单-->
                    <div class="g-f-r g-w-percent14">
                        <div class="admin-layout-theme4 admin-theme-close g-t-c g-b-gray17 g-pos-r">发货信息
                            <span class="mini-icon admin-mini-icon1" ng-click="equipment_ctrl.toggleModal({display:'hide',area:'send'})"></span>
                        </div>

                        <form ng-submit="equipment_ctrl.sendSubmit()" name="sendFrom" role="form" novalidate method="post" class="admin-layout-form">
                            <div class="admin-layout-theme4"><span class="mini-icon admin-mini-icon2"></span>&nbsp;基本信息</div>


                            <div class="form-group-self1">
                                <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>设备类型</label>

                                <div class="self-input g-pos-r g-w-percent35">
                                    <label class="self-label" ng-init="equipment_ctrl.send.deviceType=1">
                                        <input type="radio" ng-model="equipment_ctrl.send.deviceType" ng-value="1" name="deviceType">
                                        &nbsp;S67
                                    </label>
                                    <label class="self-label">
                                        <input type="radio" ng-model="equipment_ctrl.send.deviceType" ng-value="2" name="deviceType">
                                        &nbsp;T6
                                    </label>
                                    <label class="self-label">
                                        <input type="radio" ng-model="equipment_ctrl.send.deviceType" ng-value="3" name="deviceType">
                                        &nbsp;其他
                                    </label>
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>发货数量</label>

                                <div class="self-input g-pos-r g-w-percent35">
                                    <input type="text" name="deliveryQuantity" placeholder="请输入发货数量" required ng-model="equipment_ctrl.send.deliveryQuantity" maxlength="5"  ng-pattern="/[0-9]/"  />
                                    <span ng-show="sendFrom.deliveryQuantity.$dirty && sendFrom.deliveryQuantity.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50">发货数量不能为空</span>
                                    <span ng-show="sendFrom.deliveryQuantity.$dirty && sendFrom.deliveryQuantity.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>物流</label>

                                <div class="self-input g-pos-r g-w-percent35">
                                    <input type="text" name="logistics" placeholder="请输入物流" required ng-model="equipment_ctrl.send.logistics" />
                                    <span ng-show="sendFrom.logistics.$dirty && sendFrom.logistics.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50">物流不能为空</span>
                                    <span ng-show="sendFrom.logistics.$dirty && sendFrom.logistics.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>


                            <div class="form-group-self1">
                                <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>收货人</label>

                                <div class="self-input g-pos-r g-w-percent35">
                                    <input type="text" name="consigneeName" placeholder="请输入收货人" required ng-model="equipment_ctrl.send.consigneeName" />
                                    <span ng-show="sendFrom.consigneeName.$dirty && sendFrom.consigneeName.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50">收货人不能为空</span>
                                    <span ng-show="sendFrom.consigneeName.$dirty && sendFrom.consigneeName.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent50"><input type="checkbox" ng-model="equipment_ctrl.send.isSettingLogin" ng-init="equipment_ctrl.send.isSettingLogin=1" ng-change="equipment_ctrl.changeLogin()" ng-checked="equipment_ctrl.send.isSettingLogin" ng-true-value="1" ng-false-value="0" name="isSettingLogin">&nbsp;设置登录名与密码</label>
                            </div>

                            <div ng-show="equipment_ctrl.send.isSettingLogin===1">
                                <div class="form-group-self1">
                                    <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>登陆用户名</label>

                                    <div class="self-input g-pos-r g-w-percent35">
                                        <input type="text" ng-required="equipment_ctrl.send.isSettingLogin===1" ng-model="equipment_ctrl.send.username"  name="username"  placeholder="请输入登陆用户名" />
                                        <span ng-show="sendFrom.username.$dirty && sendFrom.username.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50">登陆用户名不能为空</span>
                                        <span ng-show="sendFrom.username.$dirty && sendFrom.username.$valid" class="self-tips self-tips-yes"></span>
                                    </div>
                                </div>
                                <div class="form-group-self1">
                                    <label class="self-label g-w-percent15 g-t-r"><span class="self-require g-c-red1">*</span>登陆密码</label>

                                    <div class="self-input g-pos-r g-w-percent35">
                                        <input type="password" ng-required="equipment_ctrl.send.isSettingLogin===1" ng-minlength="6" minlength="6" ng-model="equipment_ctrl.send.password"  name="password" placeholder="请输入登陆密码"   />
                                        <span ng-show="sendFrom.password.$dirty && sendFrom.password.$invalid && !sendFrom.password.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50">登陆密码不能少于6位</span>
                                        <span ng-show="sendFrom.password.$dirty && sendFrom.password.$valid" class="self-tips self-tips-yes"></span>
                                    </div>
                                </div>
                            </div>



                            <div class="admin-layout-theme4"><span class="mini-icon admin-mini-icon4"></span>&nbsp;设备IMEI</div>

                            <div class="form-group-self1">
                                <label class="self-label">
                                    <input type="radio" ng-model="equipment_ctrl.send.imei" ng-value="true" ng-change="equipment_ctrl.clearSelectPower()" name="imei">
                                    &nbsp;手动输入
                                </label>
                                <label class="self-label">
                                    <input type="radio" ng-model="equipment_ctrl.send.imei" ng-value="false" ng-change="equipment_ctrl.clearSelectPower()" name="imei">
                                    &nbsp;从进货库选择
                                </label>
                            </div>

                            <div ng-show="equipment_ctrl.send.imei===false">
                                <div class="form-group-self1 g-t-r">
                                    <div class="self-input g-pos-r g-w-percent45">
                                        <input type="text" ng-model="equipment_ctrl.send.deviceImeis" name="deviceImeis" />
                                    </div>
                                </div>
                            </div>


                            <div class="form-group-self1">
                                <button type="submit" ng-disabled="!(sendFrom.deviceType.$dirty && sendFrom.deviceType.$valid && sendFrom.deliveryQuantity.$dirty && sendFrom.deliveryQuantity.$valid && sendFrom.logistics.$dirty && sendFrom.logistics.$valid && sendFrom.consigneeName.$dirty && sendFrom.consigneeName.$valid)"  class="btn btn-red g-br3 g-w-percent50">添加</button>
                                <button type="button" class="btn btn-red g-br3 g-w-percent50 g-gap-mt2" id="admin_send_reset" ng-click="equipment_ctrl.sendReset(sendFrom)">重置</button>
                            </div>
                        </form>

                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</div>
