<div ng-controller="FinanceController as finance_ctrl">
    <div class="struct-layout-container struct-layout-default">
        <div class="struct-layout-main">

            <!--查询区域-->
            <div class="admin-layout-theme4 g-t-l g-gap-pl4 g-b-gray17 g-c-gray6">查询条件</div>
            <div class="admin-action-item">
                <!--条件查询--关键字-->
                <div class="action-item-input g-w-percent12">
                    <label class="action-indent-b5">查询关键字:<input class="form-control input-sm" placeholder="" ng-model="finance_ctrl.record.searchWord" type="text">
                    </label>
                </div>


                <!--条件查询--日历-->
                <div class="action-item-input g-w-percent16 g-d-hidei">
                    <label class="action-indent-b4">分润年月:<input class="form-control input-sm" placeholder="请选择查询年月" ng-model="finance_ctrl.record.searchDate"  id="search_date" readonly type="text">
                    </label>
                </div>


                <!--条件查询--快捷日历-->
                <div class="action-item-btn action-item-export g-w-percent28">
                    <label class="btn btn-export g-br3 g-c-gray9" ng-class="{'g-c-blue3':finance_ctrl.record.time===-12}">近一年<input type="radio" ng-model="finance_ctrl.record.time" ng-value="-12" class="g-d-hidei" ></label>
                    <label class="btn btn-export g-br3 g-c-gray9" ng-class="{'g-c-blue3':finance_ctrl.record.time===-6}">近六个月<input type="radio" ng-model="finance_ctrl.record.time" ng-value="-6" class="g-d-hidei" ></label>
                    <label class="btn btn-export g-br3 g-c-gray9" ng-class="{'g-c-blue3':finance_ctrl.record.time===-3}">近三个月<input type="radio" ng-model="finance_ctrl.record.time" ng-value="-3" class="g-d-hidei" ></label>
                    <label class="btn btn-export g-br3 g-c-gray9" ng-class="{'g-c-blue3':finance_ctrl.record.time===-1}">近一个月<input type="radio" ng-model="finance_ctrl.record.time" ng-value="-1" class="g-d-hidei" ></label>
                </div>


                <!--查询-->
                <div class="action-item-btn action-item-export g-w-percent5">
                    <span ng-click="finance_ctrl.queryFinance()" class="btn btn-export g-br3 g-w-percent50 g-c-blue3">查询</span>
                </div>

            </div>


            <div class="admin-action-item">

                <!--过滤-->
                <div class="action-item-input g-w-percent12">
                    <label class="action-indent-b2">过滤:<input class="form-control input-sm" placeholder="" ng-model="finance_ctrl.record.filter" ng-keyup="finance_ctrl.filterDataTable()"  type="search"></label>
                </div>
            </div>


            <!--分润视图操作区-->
            <div ng-class="{'g-d-hidei':finance_ctrl.record.theme!=='profit'}">
                <div>
                    <div class="admin-layout-theme4 g-t-c g-b-gray17">分润统计</div>
                </div>


                <div>
                    <div class="admin-layout-theme4 g-t-c g-b-gray17">运营商分润统计</div>
                </div>

            </div>


            <!--除权除息分红视图操作区-->
            <div ng-class="{'g-d-hidei':finance_ctrl.record.theme!=='bonus'}">
                <!--主题信息-->
                <h1 class="admin-layout-theme3 g-clear-pt">
                    <span>组织机构：&nbsp;{{finance_ctrl.record.organizationName===''?finance_ctrl.record.currentName:finance_ctrl.record.organizationName}}</span>
                    <span class="g-fs4">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;除权除息分红&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-default g-c-blue3" ng-disabled="finance_ctrl.record.organizationId==='' && finance_ctrl.record.currentId===''" ng-click="finance_ctrl.actionBonus({display:'show',area:'bonus',type:'add'})"><i class="btn-action admin-btn-action1"></i>&nbsp;添加除权除息分红</button>
                    </span>
                </h1>
            </div>


        </div>



        <div class="struct-layout-side" >

            <!--选项卡组件-->
            <ul class="sub-tab-wrap sub-item-group2 sub-itembr-group2 ui-sub-tab" data-action="toggleTheme" data-ctrlname="finance_ctrl"  data-tabitem="finance_ctrl.themeitem"></ul>

            <!--选项卡组件-->
            <ul ng-hide="(finance_ctrl.record.theme==='bonus')||(finance_ctrl.record.theme==='clear' && finance_ctrl.record.tab==='detail')" class="sub-tab-wrap sub-item-group3 sub-itembr-group3 ui-sub-tab" data-action="toggleTab" data-ctrlname="finance_ctrl"  data-tabitem="finance_ctrl.tabitem"></ul>


            <!--子菜单组件-->
            <div id="submenu_scroll_wrap">
                <ul class="sub-menu-wrap">
                    <li>
                        <a class="sub-menu-title sub-menu-titleactive" data-parentid="" data-id="finance_ctrl.record.currentId" data-layer="0" ng-click="finance_ctrl.initSubMenu()">{{finance_ctrl.record.currentName}}</a>
                        <ul class="g-d-showi ui-sub-menu" ng-click="finance_ctrl.toggleSubMenu($event)" id="admin_finance_submenu" ng-init="finance_ctrl.initSubMenu()"></ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!--查看订单详情-->
    <div class="modal fade custom-width" id="admin_orderdetail_dialog">
        <div class="modal-dialog g-w-percent40">
            <div class="modal-content">
                <div class="modal-body">
                    <table class="table table-bordered table-striped table-hover admin-layout-table">

                        <!--分组样式-->
                        <colgroup>
                            <col class="g-w-percent2">
                            <col class="g-w-percent14">
                            <col class="g-w-percent17">
                            <col class="g-w-percent17">
                        </colgroup>
                        <!--头部-->
                        <thead>
                        <tr>
                            <th class="g-t-c" colspan="4">订单详情</th>
                        </tr>
                        </thead>

                        <!--表主体-->
                        <tbody id="admin_orderdetail_show" class="middle-align"></tbody>
                    </table>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>


    <!--弹出层--提示操作界面-->
    <!--添加，编辑除权除息分红-->
    <div class="modal fade custom-width" id="admin_bonus_dialog">
        <div class="modal-dialog g-w-percent30">
            <div class="modal-content">
                <div class="modal-body">
                    <!--表单-->
                    <div class="g-w-percent50">
                        <div class="admin-layout-theme4 admin-theme-close g-t-c g-b-gray17 g-pos-r">{{finance_ctrl.bonus.id===''?'新增除权除息分红':'编辑除权除息分红'}}
                            <span class="mini-icon admin-mini-icon1" ng-click="finance_ctrl.toggleModal({display:'hide',area:'bonus'})"></span>
                        </div>

                        <form ng-submit="finance_ctrl.formSubmit('bonus')" name="bonusFrom" role="form" novalidate method="post" class="admin-layout-form">

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>除权日</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" name="exrightDate" placeholder="请选择除权日" required ng-model="finance_ctrl.bonus.exrightDate" id="bonus_exrightdate" readonly />
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>除权</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" name="exright" data-limit="15" maxlength="15" class="ui-double-point" placeholder="请输入除权" required ng-model="finance_ctrl.bonus.exright" />
                                    <span ng-show="bonusFrom.exright.$dirty && bonusFrom.exright.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50 ">除权不能为空</span>
                                    <span ng-show="bonusFrom.exright.$dirty && bonusFrom.exright.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>除息日</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" id="bonus_exdividenddate" name="exdividendDate" placeholder="请选择除息日" required ng-model="finance_ctrl.bonus.exdividendDate" readonly />
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>除权</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" name="exdividend" data-limit="15" maxlength="15" class="ui-double-point" placeholder="请输入除息" required ng-model="finance_ctrl.bonus.exdividend" />
                                    <span ng-show="bonusFrom.exdividend.$dirty && bonusFrom.exdividend.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50 ">除息不能为空</span>
                                    <span ng-show="bonusFrom.exdividend.$dirty && bonusFrom.exdividend.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>


                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>分红日</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" id="bonus_bonusdate" name="bonusDate" placeholder="请选择分红日" required ng-model="finance_ctrl.bonus.bonusDate" readonly />
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <label class="self-label g-w-percent10 g-t-r"><span class="self-require g-c-red1">*</span>分红</label>

                                <div class="self-input g-pos-r g-w-percent40">
                                    <input type="text" name="bonus" data-limit="15" maxlength="15" class="ui-double-point" placeholder="请输入分红" required ng-model="finance_ctrl.bonus.bonus" />
                                    <span ng-show="bonusFrom.bonus.$dirty && bonusFrom.bonus.$error.required" class="self-tips self-tips-no g-c-red1 g-fs4 g-w-percent50 ">分红不能为空</span>
                                    <span ng-show="bonusFrom.bonus.$dirty && bonusFrom.bonus.$valid" class="self-tips self-tips-yes"></span>
                                </div>
                            </div>

                            <div class="form-group-self1">
                                <button type="submit" ng-show="finance_ctrl.bonus.id===''" ng-disabled="!(finance_ctrl.bonus.id==='' && bonusFrom.exrightDate.$valid && bonusFrom.exright.$dirty && bonusFrom.exright.$valid && bonusFrom.exdividendDate.$valid && bonusFrom.exdividend.$dirty && bonusFrom.exdividend.$valid && bonusFrom.bonusDate.$valid && bonusFrom.bonus.$dirty && bonusFrom.bonus.$valid)"  class="btn btn-red g-br3 g-w-percent50">新增</button>
                                <button type="submit" ng-show="finance_ctrl.bonus.id!==''" ng-disabled="!(finance_ctrl.bonus.id!=='' && bonusFrom.exrightDate.$valid && bonusFrom.exright.$valid && bonusFrom.exdividendDate.$valid && bonusFrom.exdividend.$valid && bonusFrom.bonusDate.$valid && bonusFrom.bonus.$valid)"  class="btn btn-red g-br3 g-w-percent50">编辑</button>
                                <button type="button" class="btn btn-red g-br3 g-w-percent50 g-gap-mt2" id="admin_bonus_reset" ng-click="finance_ctrl.formReset(bonusFrom,'bonus')">取消</button>
                            </div>
                        </form>

                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>


    <!--查看除权除息分红-->
    <div class="modal fade custom-width" id="admin_bonusdetail_dialog">
        <div class="modal-dialog g-w-percent40">
            <div class="modal-content">
                <div class="modal-body">
                    <!--表单-->
                    <table class="table table-bordered table-striped table-hover admin-layout-table">

                        <!--分组样式-->
                        <colgroup>
                            <col class="g-w-percent10">
                            <col class="g-w-percent40">
                        </colgroup>
                        <!--头部-->
                        <thead>
                        <tr>
                            <th class="g-t-c" colspan="2">除权除息分红详情</th>
                        </tr>
                        </thead>

                        <!--表主体-->
                        <tbody id="admin_bonusdetail_show" class="middle-align"></tbody>
                    </table>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>

</div>











